(()=>{"use strict";class t{constructor(t){({id:this.id,type:this.type,duration:this.duration=3e3}=t),this.carouselStart=0,this.currentSlide=this.carouselStart,this.previousSlide=0,this.currentDirection="right",this.carouselElement=document.getElementById(this.id),this.items=Array.from(this.carouselElement.querySelectorAll(".carousel__item")),this.itemsNumber=this.items.length,this.carouselContent=this.carouselElement.querySelector(".carousel__content"),this.mainControls=Array.from(document.body.querySelectorAll(`[data-carousel-target="${this.id}"]`))}setUpCarousel(){this.setUpMainControls(),this.calculateSize(),this.setItemsPosition(),this.setAutoMove()}setUpMainControls(){this.mainControls.forEach((t=>t.addEventListener("click",(({target:t})=>{this.mainControlClickHandle(t)}))))}mainControlClickHandle(t){t.closest("[data-carousel-target]")&&(this.currentDirection=t.dataset.carouselDirection,this.removeAutoMove(),this.changeCurrentSlideNumber(),this.switchSlide())}changeCurrentSlideNumber(){this.previousSlide=this.currentSlide,"left"===this.currentDirection?this.currentSlide===this.carouselStart?this.currentSlide=this.carouselEnd:this.currentSlide--:this.currentSlide===this.carouselEnd?this.currentSlide=this.carouselStart:this.currentSlide++}setAutoMove(){this.carouselInterval=setInterval((()=>{this.currentSlide===this.carouselStart&&(this.currentDirection="right"),this.currentSlide===this.carouselEnd&&(this.currentDirection="left"),this.changeCurrentSlideNumber(),this.switchSlide()}),this.duration)}removeAutoMove(){clearTimeout(this.delayedAutoMove),clearInterval(this.carouselInterval)}setDelayedAutoMove(){this.delayedAutoMove=setTimeout((()=>{this.setAutoMove()}),2*this.duration)}calculateSize(){}setItemsPosition(){}switchSlide(){}}class e extends t{constructor(t){super(t),({breakpoints:this.breakpoints={},style:{itemsGap:this.itemsGap=10}}=t),this.setUpCarousel(),window.addEventListener("resize",(()=>{this.calculateSize(),this.setItemsPosition(),this.switchSlide("right")})),this.carouselElement.addEventListener("pointerdown",this.initiateManualSliding.bind(this)),this.carouselElement.addEventListener("lostpointercapture",this.settleCarousel.bind(this))}calculateSize(){let t;for(let e of Object.keys(this.breakpoints))+e<=window.innerWidth&&(t=e);this.itemsPerSlide=t?this.breakpoints[t]:1,this.carouselEnd=this.itemsNumber-this.itemsPerSlide,this.carouselContent.classList.add("carousel__content--large")}setItemsPosition(){this.items.forEach((t=>{t.style.cssText=`flex: 0 0 ${100/this.itemsPerSlide}%;\n                                      padding: 0 ${this.itemsGap/10}rem`})),this.itemWidth=this.items[0].offsetWidth,console.log(this.id),console.log(this.itemsPerSlide),console.log(this.itemWidth)}changeCurrentSlideNumber(){super.changeCurrentSlideNumber(),Math.abs(this.previousSlide-this.currentSlide)>1?this.carouselContent.classList.add("carousel__content--slow-motion"):this.carouselContent.classList.remove("carousel__content--slow-motion")}switchSlide(){this.currentMovedWidth=this.currentSlide*this.itemWidth,this.carouselContent.style.transform=`translateX(-${this.currentMovedWidth}px)`}initiateManualSliding(t){const{target:e,pointerId:s,isPrimary:i,clientX:r}=t;e.closest(".carousel")===this.carouselElement&&i&&(this.removeAutoMove(),this.pointer=s,this.pointerInitialCoordinate=r,this.carouselContent.style.transition="all 0s",this.carouselElement.onpointermove=this.moveSlidesManually.bind(this),this.carouselElement.setPointerCapture(this.pointer))}moveSlidesManually(t){const{pointerId:e,clientX:s}=t;t.preventDefault(),e===this.pointer&&(this.movedDistance=this.pointerInitialCoordinate-s,this.carouselContent.style.transform=`translateX(${-(this.currentMovedWidth+this.movedDistance)}px)`)}settleCarousel(t){this.carouselContent.style.transition="",this.movedDistance<0?(this.movedDistance=-this.movedDistance,this.currentSlide-=Math.ceil(this.movedDistance/this.itemWidth),this.currentSlide<0&&(this.currentSlide=0)):(this.currentSlide+=Math.ceil(this.movedDistance/this.itemWidth),this.currentSlide>this.carouselEnd&&(this.currentSlide=this.carouselEnd)),this.switchSlide(),this.carouselElement.onpointermove=null,this.setDelayedAutoMove()}}class s extends t{constructor(t){super(t),({style:{dotControlsPosition:this.dotControlsPosition={},dotControlsColor:this.dotControlsColor="#fff",dotControlsCentered:this.dotControlsCentered=!1}}=t),this.setUpCarousel()}setUpCarousel(){this.carouselEnd=this.itemsNumber-1,super.setUpCarousel(),this.setUpDotControls()}setItemsPosition(){this.carouselContent.classList.add("carousel__content--small"),this.items.forEach((t=>t.classList.add("carousel__item--small"))),this.items[this.currentSlide].classList.add("carousel__item--visible")}switchSlide(){this.selectCurrentDot(),this.items[this.previousSlide].classList.remove("carousel__item--visible"),this.items[this.currentSlide].classList.add("carousel__item--visible")}setUpDotControls(){this.dotsWrapper=document.createElement("div"),this.dotsWrapper.className="carousel__dots-wrapper",this.dotElements=[],this.dotElements=Array.from({length:this.itemsNumber},((t,e)=>{const s=document.createElement("span");return s.className="carousel__dot",s.dataset.carouselSlide=e,s})),this.dotsWrapper.append(...this.dotElements),this.selectCurrentDot();let t=`--carousel-dot-color:${this.dotControlsColor};`;t+=Object.entries(this.dotControlsPosition).reduce(((t,[e,s])=>t+`${e}:${s};`),t),this.dotControlsCentered&&(t+="transform: translateX(-50%);"),this.dotsWrapper.style.cssText=t,this.dotsWrapper.addEventListener("click",this.handleDotControlClick.bind(this)),this.carouselElement.append(this.dotsWrapper)}handleDotControlClick({target:t}){const e=t.closest(".carousel__dot");e&&(this.removeAutoMove(),this.previousSlide=this.currentSlide,this.currentSlide=+e.dataset.carouselSlide,this.switchSlide(),this.setDelayedAutoMove())}selectCurrentDot(){this.dotElements.forEach((t=>t.classList.remove("carousel__dot--selected"))),this.dotElements[this.currentSlide].classList.add("carousel__dot--selected")}}const i={};window.onload=()=>{setTimeout((()=>document.getElementById("loader").remove()),2500),i.carousels=[{id:"carousel-world",type:"large",breakpoints:{1100:4,800:3,600:2},style:{itemsGap:10}},{id:"carousel-travel",type:"large",breakpoints:{1100:4,800:3,600:2},style:{itemsGap:10}},{id:"carousel-tech",type:"large",breakpoints:{1100:4,800:3,600:2},style:{itemsGap:10}},{id:"carousel-gallery",type:"small",style:{dotControlsColor:"#fff",itemsGap:0,dotControlsPosition:{top:"2rem",right:"2rem"}}},{id:"carousel-full-page",type:"large",breakpoints:{1100:4,800:3,600:2},style:{itemsGap:10}},{id:"aside-carousel",type:"small",style:{dotControlsColor:"rgb(238, 58, 58)",itemsGap:0,dotControlsPosition:{left:"50%",bottom:"1rem"},dotControlsCentered:!0}},{id:"carousel-news-columns",type:"large",breakpoints:{1100:2},style:{itemsGap:10}},{id:"carousel-overlay-cards",type:"large",breakpoints:{1100:3,800:2},style:{itemsGap:10}},{id:"carousel-fashion",type:"small",style:{dotControlsColor:"#fff",itemsGap:0,dotControlsPosition:{left:"50%",bottom:"1rem"},dotControlsCentered:!0}},{id:"carousel-only-news-columns",type:"large",breakpoints:{},style:{itemsGap:10}},{id:"carousel-video",type:"large",breakpoints:{1100:4,800:3,600:2},style:{itemsGap:10}}].map((t=>function(t){return"small"===t.type?new s(t):"large"===t.type?new e(t):void 0}(t))),i.newsStickers=[{id:"head-news-sticker",data:[{time:"13:50 pm",text:"One of the most aniticipated events of this year is being held right now in London. Check it out!"},{time:"9:00 am",text:"The Amazon CEO Jeff Bezoss is currently considering leaving the office. He's been working in that capacity since 1990s."},{time:"8:30 pm",text:"Joe Biden to hold the press-conference in the wake of the ongoing crisis."}]}].map((t=>new class{constructor({id:t,data:e,duration:s=3e3}){this.newsData=e,this.id=t,this.duration=s,this.stickerElement=document.getElementById(this.id),this.stickerTimeBox=this.stickerElement.querySelector(".news-sticker__news-time"),this.stickerNewsHeading=this.stickerElement.querySelector(".news-sticker__news-heading"),this.stickerControls=this.stickerElement.querySelector(".news-sticker__controls"),this.playIcon=this.stickerElement.querySelector('[data-news-sticker-command="play"] i'),this.stickerLine=this.stickerElement.querySelector(".news-sticker__line"),this.newsNumber=this.newsData.length-1,this.currentNewsNumber=0,this.isStickerRunning=!1,this.stickerLine.style.transition=`opacity ${this.duration/2}ms`,this.stickerControls.addEventListener("click",(({target:t})=>{const e=t.closest("[data-news-sticker-command]");if(!e)return;const s=e.dataset.newsStickerCommand;"play"===s?this.isStickerRunning?this.stopNewsSticker():this.RunNewsSticker():(this.stopNewsSticker(),"forward"===s?this.switchCurrentNewsNumber():this.switchCurrentNewsNumber(!1),this.setCurrentNewsValues(),this.showCurrentNews())})),this.RunNewsSticker()}onEndOpacityTransition=t=>{0==+this.stickerLine.style.opacity&&this.isStickerRunning&&this.showCurrentNews()};RunNewsSticker(){this.isStickerRunning=!0,this.stickerLine.style.transition=`opacity ${this.duration/2}ms`,this.stickerLine.ontransitionend=this.onEndOpacityTransition,this.switchOffPlayBtn(),this.showCurrentNews()}showCurrentNews(){this.isStickerRunning?(this.stickerLine.style.opacity=1,this.stickerNewsHeading.textContent="",this.triggerRunningLine()):(this.stickerTimeBox.textContent=this.currentNewsTime,this.stickerNewsHeading.textContent=this.currentNewsText)}switchCurrentNewsNumber(t=!0){t?this.currentNewsNumber<this.newsNumber?this.currentNewsNumber++:this.currentNewsNumber=0:0===this.currentNewsNumber?this.currentNewsNumber=this.newsNumber:this.currentNewsNumber--}setCurrentNewsValues(){({time:this.currentNewsTime,text:this.currentNewsText}=this.newsData[this.currentNewsNumber])}triggerRunningLine(){this.setCurrentNewsValues(),this.runLineAnimation()}runLineAnimation(){this.startAnimationTime=performance.now(),this.numberLetter=0,this.isStickerRunning=!0,this.previousTriggeredTime=0,this.secondsPerLetter=Math.ceil(this.duration/this.currentNewsText.length),this.processAnimation()}processAnimation(){this.numberLetter<=this.currentNewsText.length?requestAnimationFrame((t=>{this.isStickerRunning&&(t-this.previousTriggeredTime>this.secondsPerLetter&&(this.numberLetter++,this.stickerNewsHeading.textContent=this.currentNewsText.slice(0,this.numberLetter),this.previousTriggeredTime=t),this.processAnimation())})):this.isStickerRunning&&(this.switchCurrentNewsNumber(),this.delayedFading=setTimeout((()=>this.stickerLine.style.opacity=0),this.duration))}stopNewsSticker(){clearTimeout(this.delayedFading),this.isStickerRunning=!1,this.stickerLine.ontransitionend=null,this.stickerLine.style.transition="",this.stickerLine.style.opacity=1,this.stickerTimeBox.textContent=this.currentNewsTime,this.stickerNewsHeading.textContent=this.currentNewsText,this.turnOnPlayBtn()}switchOffPlayBtn(){this.playIcon.classList.remove("fa-play"),this.playIcon.classList.add("fa-pause")}turnOnPlayBtn(){this.playIcon.classList.remove("fa-pause"),this.playIcon.classList.add("fa-play")}}(t))),i.tabKeepers=["aside-tabs"].forEach((t=>new class{constructor(t){this.id=t,this.root=document.getElementById(t),this.head=this.root.querySelector(".tab-keeper__head"),this.buttons=Array.from(this.head.querySelectorAll(".tab-keeper__btn")),this.contentTabs=Array.from(this.root.querySelectorAll(".tab-keeper__tab-content")),this.currentTabNumber=0,this.buttons.forEach((t=>t.addEventListener("click",this.hadnleBtnClick.bind(this)))),this.showCurrentTab()}showCurrentTab(){this.buttons.forEach((t=>{t.classList.remove("active")})),this.contentTabs.forEach((t=>t.classList.add("hidden"))),this.buttons[this.currentTabNumber].classList.add("active"),this.contentTabs[this.currentTabNumber].classList.remove("hidden")}hadnleBtnClick({target:t}){const e=t.closest(".tab-keeper__btn");e&&(this.currentTabNumber=this.buttons.findIndex((t=>t===e)),this.showCurrentTab())}}(t)))}})();